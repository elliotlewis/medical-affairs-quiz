<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Medical Affairs Knowledge Quiz 2026</title>
<style>
  :root {
    --navy: #1B3A5C;
    --teal: #0E7C7B;
    --teal-light: #10918F;
    --light-bg: #F0F5FA;
    --white: #FFFFFF;
    --dark: #2D2D2D;
    --grey: #B0BEC5;
    --green: #2E7D32;
    --green-bg: #E8F5E9;
    --red: #C62828;
    --red-bg: #FFEBEE;
    --amber: #F57F17;
    --amber-bg: #FFF8E1;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: var(--light-bg);
    color: var(--dark);
    min-height: 100vh;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    user-select: none;
  }

  .container {
    max-width: 720px;
    margin: 0 auto;
    padding: 24px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* ── Welcome Screen ────────────────────────────── */
  .screen { display: none; flex-direction: column; flex: 1; }
  .screen.active { display: flex; }

  .welcome-header {
    text-align: center;
    padding: 60px 0 40px;
  }
  .logo-area {
    margin-bottom: 24px;
  }
  .logo-area svg {
    width: 160px;
    height: auto;
  }
  .welcome-header h1 {
    font-size: 2.2rem;
    color: var(--navy);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 12px;
  }
  .welcome-header p {
    font-size: 1.1rem;
    color: var(--teal);
    font-style: italic;
  }
  .welcome-details {
    background: var(--white);
    border-radius: 16px;
    padding: 32px;
    margin: 20px 0;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
  }
  .welcome-details .detail-row {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 12px 0;
    font-size: 1.05rem;
    color: var(--dark);
  }
  .welcome-details .detail-row + .detail-row {
    border-top: 1px solid var(--light-bg);
  }
  .detail-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: var(--light-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    flex-shrink: 0;
  }

  /* ── Buttons ────────────────────────────────────── */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 40px;
    border: none;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    -webkit-tap-highlight-color: transparent;
  }
  .btn-primary {
    background: var(--teal);
    color: var(--white);
  }
  .btn-primary:hover, .btn-primary:active {
    background: var(--teal-light);
    transform: translateY(-1px);
  }
  .btn-secondary {
    background: var(--navy);
    color: var(--white);
  }
  .btn-secondary:hover, .btn-secondary:active {
    opacity: 0.9;
    transform: translateY(-1px);
  }
  .btn-center {
    display: flex;
    justify-content: center;
    margin-top: auto;
    padding: 30px 0;
  }

  /* ── Progress Bar ───────────────────────────────── */
  .progress-area {
    padding: 16px 0;
  }
  .progress-label {
    font-size: 0.85rem;
    color: var(--grey);
    margin-bottom: 8px;
    display: flex;
    justify-content: space-between;
  }
  .progress-track {
    height: 6px;
    background: #E0E7EE;
    border-radius: 3px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    background: var(--teal);
    border-radius: 3px;
    transition: width 0.4s ease;
  }

  /* ── Question Card ──────────────────────────────── */
  .question-topic {
    display: inline-block;
    background: var(--navy);
    color: var(--white);
    font-size: 0.8rem;
    font-weight: 600;
    padding: 6px 14px;
    border-radius: 20px;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    margin-bottom: 16px;
  }
  .question-text {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--navy);
    line-height: 1.5;
    margin-bottom: 28px;
  }

  /* ── Answer Options ─────────────────────────────── */
  .options-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .option-btn {
    width: 100%;
    text-align: left;
    padding: 18px 20px;
    background: var(--white);
    border: 2px solid #E0E7EE;
    border-radius: 12px;
    font-size: 1.05rem;
    color: var(--dark);
    cursor: pointer;
    transition: all 0.2s;
    line-height: 1.4;
  }
  .option-btn:hover:not(.disabled) {
    border-color: var(--teal);
    background: #F7FFFE;
  }
  .option-btn.disabled {
    cursor: default;
    opacity: 0.65;
  }
  .option-btn.correct {
    border-color: var(--green);
    background: var(--green-bg);
    opacity: 1;
    font-weight: 600;
  }
  .option-btn.incorrect {
    border-color: var(--red);
    background: var(--red-bg);
    opacity: 1;
  }

  /* ── Feedback Panel ─────────────────────────────── */
  .feedback {
    margin-top: 24px;
    padding: 20px 24px;
    border-radius: 12px;
    display: none;
    animation: slideUp 0.3s ease;
  }
  .feedback.show { display: block; }
  .feedback.correct-feedback {
    background: var(--green-bg);
    border-left: 4px solid var(--green);
  }
  .feedback.incorrect-feedback {
    background: var(--amber-bg);
    border-left: 4px solid var(--amber);
  }
  .feedback-title {
    font-weight: 700;
    font-size: 1rem;
    margin-bottom: 8px;
  }
  .correct-feedback .feedback-title { color: var(--green); }
  .incorrect-feedback .feedback-title { color: var(--amber); }
  .feedback-text {
    font-size: 0.95rem;
    color: var(--dark);
    line-height: 1.6;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .next-btn-area {
    display: none;
    justify-content: center;
    padding: 24px 0;
  }
  .next-btn-area.show { display: flex; }

  /* ── Results Screen ─────────────────────────────── */
  .results-card {
    background: var(--white);
    border-radius: 16px;
    padding: 40px 32px;
    text-align: center;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    margin: 20px 0;
  }
  .score-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: var(--navy);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
  }
  .score-circle span {
    font-size: 2.4rem;
    font-weight: 700;
    color: var(--white);
  }
  .score-label {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--navy);
    margin-bottom: 8px;
  }
  .score-message {
    font-size: 1.05rem;
    color: var(--teal);
    font-style: italic;
  }

  /* ── Question Review ────────────────────────────── */
  .review-list {
    margin: 24px 0;
  }
  .review-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 14px 0;
    text-align: left;
    font-size: 0.95rem;
  }
  .review-item + .review-item {
    border-top: 1px solid var(--light-bg);
  }
  .review-icon {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    font-weight: 700;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .review-icon.correct { background: var(--green-bg); color: var(--green); }
  .review-icon.wrong { background: var(--red-bg); color: var(--red); }
  .review-q { color: var(--dark); line-height: 1.4; }
  .review-answer { color: var(--grey); font-size: 0.85rem; margin-top: 2px; }

  /* ── Submit Form ────────────────────────────────── */
  .submit-form {
    background: var(--white);
    border-radius: 16px;
    padding: 32px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    margin: 16px 0;
  }
  .submit-form h3 {
    font-size: 1.15rem;
    color: var(--navy);
    margin-bottom: 20px;
  }
  .form-group {
    margin-bottom: 16px;
  }
  .form-group label {
    display: block;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--dark);
    margin-bottom: 6px;
  }
  .form-group input {
    width: 100%;
    padding: 14px 16px;
    border: 2px solid #E0E7EE;
    border-radius: 10px;
    font-size: 1rem;
    color: var(--dark);
    transition: border-color 0.2s;
    -webkit-appearance: none;
  }
  .form-group input:focus {
    outline: none;
    border-color: var(--teal);
  }
  .submit-status {
    text-align: center;
    padding: 12px;
    font-size: 0.95rem;
    display: none;
  }
  .submit-status.success { color: var(--green); display: block; }
  .submit-status.error { color: var(--red); display: block; }

  .restart-area {
    text-align: center;
    padding: 20px 0 40px;
  }
  .restart-link {
    color: var(--teal);
    font-size: 0.95rem;
    cursor: pointer;
    text-decoration: underline;
    background: none;
    border: none;
    font-family: inherit;
  }

  /* ── Kiosk / iPad optimisations ─────────────────── */
  @media (max-width: 768px) {
    .container { padding: 16px; }
    .welcome-header { padding: 40px 0 24px; }
    .welcome-header h1 { font-size: 1.8rem; }
    .question-text { font-size: 1.15rem; }
    .option-btn { padding: 16px 18px; font-size: 1rem; }
    .results-card { padding: 28px 20px; }
  }

  @media (min-width: 769px) and (max-width: 1200px) {
    .container { max-width: 640px; }
    .option-btn { padding: 20px 24px; }
  }
</style>
</head>
<body>

<div class="container">

  <!-- ═══════════ WELCOME SCREEN ═══════════ -->
  <div id="welcome-screen" class="screen active">
    <div class="welcome-header">
      <div class="logo-area">
        <svg width="146px" height="106px" viewBox="0 0 146 106" xmlns="http://www.w3.org/2000/svg"><g fill="#1B6FAF" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M9.47851569 105.084034 9.47851569 99.2712129 2.94518324 99.2712129 2.94518324 105.084034 0 105.084034 0 91.2865639 2.94518324 91.2865639 2.94518324 96.7062212 9.47851569 96.7062212 9.47851569 91.2865639 12.4441415 91.2865639 12.4441415 105.084034 9.47851569 105.084034ZM13.832286 100.077851C13.7922549 98.6922637 14.322944 97.3504321 15.3016574 96.3625878 16.2803708 95.3747439 17.6223708 94.8264155 19.0173855 94.8443777 22.0248697 94.8443777 24.0365111 97.0785899 24.0365111 100.326419L24.0365111 100.946872 16.5895927 100.946872C16.7760091 102.167468 17.7718518 103.181084 19.4724749 103.181084 20.444257 103.17356 21.3829961 102.829655 22.1270823 102.208573L23.3093415 103.946133C22.1467011 104.886459 20.6817846 105.37872 19.1833593 105.332602 16.1345033 105.332602 13.832286 103.28409 13.832286 100.077851ZM19.0173855 96.9958951C17.7517929 96.9198124 16.6603747 97.870062 16.5701237 99.1266178L21.5065058 99.1266178C21.4671101 98.5136941 21.1809835 97.9423475 20.7126731 97.541467 20.2443626 97.1405864 19.6333184 96.9439419 19.0173855 96.9958951L19.0173855 96.9958951ZM31.4357304 105.084034 31.4357304 104.029311C30.6222757 104.906272 29.4615175 105.382978 28.2622724 105.332602 26.6653221 105.332602 24.7987252 104.256601 24.7987252 102.022389 24.7987252 99.6643763 26.6653221 98.7953548 28.2622724 98.7953548 29.4484618 98.7240026 30.6070834 99.169639 31.4357304 100.01595L31.4357304 98.7556999C31.4357304 97.7401489 30.5644896 97.0805243 29.2371859 97.0805243 28.1596039 97.0916402 27.1275198 97.5137294 26.3543037 98.2595307L25.3170891 96.4184818C26.5282188 95.3718578 28.0884914 94.8113176 29.6932488 94.846312 31.9954661 94.846312 34.0903378 95.7564392 34.0903378 98.6318994L34.0903378 105.085968 31.4357304 105.085968 31.4357304 105.084034ZM31.4357304 102.684432 31.4357304 101.443525C30.903893 100.841925 30.1248528 100.514293 29.3199295 100.553709 28.2827148 100.553709 27.4324033 101.112262 27.4324033 102.063978 27.4324033 103.015695 28.2827148 103.55297 29.3199295 103.55297 30.1217156 103.599862 30.901074 103.279935 31.4357304 102.684432L31.4357304 102.684432ZM35.6449429 105.084034 35.6449429 91.2865639 38.2791078 91.2865639 38.2791078 105.084034 35.6449429 105.084034 35.6449429 105.084034ZM40.8086264 102.580942 40.8086264 97.3885748 39.1493751 97.3885748 39.1493751 95.0929459 40.8086264 95.0929459 40.8086264 92.3620808 43.4427913 92.3620808 43.4427913 95.0929459 45.475362 95.0929459 45.475362 97.3885748 43.4427913 97.3885748 43.4427913 101.877794C43.4427913 102.519042 43.7747389 102.9949 44.3554039 102.9949 44.688087 103.009172 45.0139583 102.898311 45.2680164 102.684432L45.8282388 104.69087C45.1984425 105.163544 44.4167311 105.391717 43.6296943 105.332602 41.78354 105.332602 40.8086264 104.380885 40.8086264 102.580942L40.8086264 102.580942ZM53.852902 105.084034 53.852902 99.0023337C53.852902 97.6163484 53.1271925 97.1815958 52.0072343 97.1815958 51.1064016 97.1944522 50.2630136 97.6235351 49.7259463 98.3422256L49.7259463 105.085968 47.0708521 105.085968 47.0708521 91.2865639 49.7259463 91.2865639 49.7259463 96.3749581C50.6181912 95.387769 51.8950522 94.8300927 53.2303785 94.8443777 55.4289229 94.8443777 56.48658 96.0441787 56.48658 97.9877499L56.48658 105.083066 53.8524154 105.083066 53.852902 105.084034ZM63.9515074 103.139495 65.5689003 100.843383C66.712986 102.043128 68.3025546 102.72371 69.9659891 102.726021 71.6047977 102.726021 72.372366 102.000627 72.372366 101.194957 72.372366 98.7953548 64.4080572 100.469563 64.4080572 95.2786466 64.4080572 92.9825341 66.3987691 91.0791013 69.6549706 91.0791013 71.6351852 91.0049864 73.5675526 91.6944653 75.0479026 93.0033287L73.4090939 95.1959518C72.3054279 94.2097874 70.8695782 93.6708601 69.3853242 93.6856823 68.1412509 93.6856823 67.4354971 94.2239243 67.4354971 95.0513566 67.4354971 97.223185 75.3793635 95.7545048 75.3793635 100.905283 75.3793635 103.429169 73.5541381 105.332602 69.841874 105.332602 67.168284 105.332602 65.2588552 104.442786 63.9524807 103.139495L63.9515074 103.139495ZM76.4355385 100.077851C76.4312292 97.9463565 77.7207105 96.0225305 79.7018399 95.2047634 81.6829699 94.3869962 83.9648891 94.8366261 85.4819834 96.3436845 86.9990781 97.8507429 87.4520392 100.1179 86.6293419 102.086436 85.806645 104.054972 83.8706008 105.336513 81.725306 105.332619 78.427733 105.332619 76.4365339 102.914623 76.4365339 100.077851L76.4355385 100.077851ZM84.2961967 100.077851C84.2961967 98.5264755 83.3835838 97.1815958 81.7243327 97.1815958 80.0860107 97.1815958 79.1733978 98.5264755 79.1733978 100.077851 79.1733978 101.65002 80.0860107 102.9949 81.7243327 102.9949 83.3845576 102.9949 84.29717 101.65002 84.29717 100.077851L84.2961967 100.077851ZM88.1656736 105.084034 88.1656736 91.2865639 90.7998387 91.2865639 90.7998387 105.084034 88.1656736 105.084034ZM99.1369803 105.084034 99.1369803 103.822332C98.2276612 104.79558 96.9481264 105.343735 95.6116186 105.332602 93.4135609 105.332602 92.3763462 104.132801 92.3763462 102.18923L92.3763462 95.0929459 95.0090513 95.0929459 95.0090513 101.153851C95.0090513 102.539836 95.7347608 102.9949 96.8547186 102.9949 97.7498261 102.97981 98.5894511 102.561096 99.1364937 101.856999L99.1364937 95.0929459 101.770172 95.0929459 101.770172 105.084034 99.1364937 105.084034 99.1369803 105.084034ZM104.29969 102.580942 104.29969 97.3885748 102.640439 97.3885748 102.640439 95.0929459 104.29969 95.0929459 104.29969 92.3620808 106.933855 92.3620808 106.933855 95.0929459 108.966426 95.0929459 108.966426 97.3885748 106.933855 97.3885748 106.933855 101.877794C106.933855 102.519042 107.265803 102.9949 107.846468 102.9949 108.179165 103.009268 108.50507 102.898396 108.75908 102.684432L109.319303 104.69087C108.689764 105.163317 107.908442 105.391478 107.121732 105.332602 105.275577 105.332602 104.300664 104.380885 104.300664 102.580942L104.29969 102.580942ZM110.313685 92.4447757C110.328744 91.59613 111.025456 90.9159966 111.879728 90.9159966 112.734001 90.9159966 113.430713 91.59613 113.445772 92.4447757 113.463204 93.011825 113.168681 93.5433722 112.677124 93.8320145 112.185566 94.1206573 111.574864 94.1206573 111.083307 93.8320145 110.591749 93.5433722 110.297227 93.011825 110.314659 92.4447757L110.313685 92.4447757ZM110.562889 105.084034 110.562889 95.0929459 113.197054 95.0929459 113.197054 105.084034 110.562889 105.084034ZM114.700044 100.077851C114.695734 97.9465325 115.985004 96.0228279 117.965894 95.2049466 119.946785 94.3870654 122.228551 94.8363398 123.7458 96.3429963 125.263048 97.8496528 125.716491 100.116493 124.894408 102.085093 124.072325 104.053691 122.136878 105.335729 119.991759 105.332613 116.694186 105.332613 114.702987 102.914623 114.702987 100.077851L114.700044 100.077851ZM122.560703 100.077851C122.560703 98.5264755 121.64809 97.1815958 119.988839 97.1815958 118.350517 97.1815958 117.437904 98.5264755 117.437904 100.077851 117.437904 101.65002 118.350517 102.9949 119.988839 102.9949 121.65101 102.9949 122.563623 101.65002 122.563623 100.077851L122.560703 100.077851ZM133.411788 105.084034 133.411788 99.0458573C133.411788 97.6603556 132.685591 97.1840138 131.565633 97.1840138 130.666071 97.2019136 129.824788 97.6299253 129.284345 98.3446435L129.284345 105.088386 126.646286 105.088386 126.646286 95.0972982 129.280451 95.0972982 129.280451 96.3793105C130.17548 95.3959486 131.450514 94.8390702 132.784883 94.84873 135.004357 94.84873 136.062014 96.0896367 136.062014 98.0346587L136.062014 105.088386 133.411788 105.088386 133.411788 105.084034ZM137.16445 103.780743 138.305338 101.877794C139.269075 102.715344 140.489917 103.20388 141.768885 103.263779 142.909772 103.263779 143.449066 102.828543 143.449066 102.208573 143.449066 100.574503 137.51684 101.918416 137.51684 97.9887171 137.51684 96.3130579 138.968746 94.8453449 141.62384 94.8453449 143.082748 94.8289911 144.503057 95.3109339 145.647123 96.2105356L144.589466 98.0723791C143.786488 97.3232328 142.725325 96.9079353 141.62384 96.9117494 140.669369 96.9117494 140.047332 97.3257073 140.047332 97.8842604 140.047332 99.3529406 146 98.1115504 146 102.145706 146 103.986755 144.423492 105.331635 141.644283 105.331635 140.010363 105.372627 138.41728 104.821351 137.162503 103.780743L137.16445 103.780743ZM146 82.2112735 0 82.2112735 0 0 146 0 146 82.2112735ZM25.6307867 66.9780081C25.0408302 67.0361213 24.4480665 66.8991075 23.9444867 66.58823 23.1549006 65.7276578 22.4442981 64.798682 21.82116 63.8123905 21.64304 63.5222331 19.8915267 61.0036665 19.5824933 60.672887 19.3498618 60.3304635 19.0436967 60.0435728 18.6860533 59.8328813 21.43426 59.184863 23.0173867 58.1141821 23.0173867 54.8803774 22.9655698 53.786777 22.4943388 52.7543953 21.7004667 51.9952453 20.7411939 51.1804218 19.5532055 50.6780413 18.2972067 50.5560644L9.74744667 50.5560644C9.68441117 50.5562985 9.6300852 50.6002104 9.61702 50.6614883 9.60957157 50.697597 9.60614427 50.7344107 9.6068 50.7712645L9.6068 51.3825295C9.59491944 51.4618262 9.61966737 51.5422177 9.6741591 51.6013392 9.72865077 51.6604607 9.80707214 51.6920047 9.88760667 51.6871948L10.8687267 51.6871948C11.0700105 51.6799129 11.26552 51.7548291 11.4097704 51.8945152 11.5540207 52.0342009 11.6344356 52.2264776 11.6323067 52.4266127L11.6323067 66.3880213C11.5943467 66.8019793 11.3515 66.9784917 10.8190867 66.9784917L9.81412 66.9784917C9.73243908 66.9789821 9.65552375 67.0167756 9.60554683 67.0809768 9.55556987 67.145178 9.53808525 67.2286524 9.55813333 67.3073368L9.55813333 67.8697586C9.55673937 67.9195395 9.56280806 67.9692498 9.57614 68.0172553 9.5923863 68.0742089 9.644561 68.113635 9.70413333 68.1139745L16.41332 68.1139745C16.4665438 68.113944 16.5146128 68.0823541 16.5354733 68.0336976 16.5595141 67.9746269 16.5707891 67.9111936 16.5685667 67.8475132L16.5685667 67.3092712C16.5817356 67.2188485 16.5512754 67.1275432 16.4863562 67.0628434 16.421437 66.9981436 16.3296422 66.9676065 16.2386067 66.9804261L14.6939267 66.9804261C14.39852 66.9804261 14.2520333 66.5500259 14.2140733 66.1505758 14.1892533 65.7815923 14.1654067 63.0072036 14.1654067 61.609612L14.1654067 60.3493615C14.3884444 60.3113842 14.6146871 60.2951872 14.8409 60.3010019 16.2342267 60.3010019 16.7938933 60.9669132 17.3876267 61.6734466 17.6640533 61.9945542 18.8408133 63.7500067 18.94496 63.9318386 18.9907067 64.0048616 19.2053267 64.3777139 19.4656933 64.8293923 19.9109933 65.6031455 20.46482 66.5611486 20.5913533 66.7502345L20.7373533 66.9639838C20.9862442 67.3485145 21.2572824 67.7184367 21.5491133 68.0719017 21.5741306 68.0990633 21.6093935 68.1146564 21.6464467 68.1149417L25.80404 68.1149417C25.8583056 68.1149417 25.9071311 68.0821655 25.9276533 68.0322468 25.9500978 67.9736234 25.9605284 67.9111752 25.9588 67.8484804L25.9588 67.3102384C25.9684634 67.220646 25.9372648 67.1314584 25.8737613 67.0671387 25.8102577 67.0028185 25.7211162 66.9701187 25.6307867 66.9780081ZM15.1353333 59.2486976C14.8103262 59.2556193 14.4854289 59.2305106 14.1654067 59.1737403L14.1654067 52.3613273C14.1392667 52.11391 14.225227 51.8677579 14.39998 51.6896128 14.631882 51.5623116 14.8951152 51.5023225 15.1596667 51.5164856 17.0343067 51.5164856 18.15218 51.8240524 19.1454667 52.6108627 19.9041709 53.2992733 20.3323947 54.2758634 20.3232 55.2967534 20.3232 56.3959664 19.3912333 59.2486976 15.1353333 59.2486976ZM52.9177 50.6324726C52.8958891 50.5858094 52.8487841 50.5560644 52.7970067 50.5560644L44.85704 50.5560644C44.8056224 50.5562811 44.7588068 50.585544 44.7363467 50.6315054 44.7116598 50.6648933 44.6982054 50.705171 44.6979 50.7466012L44.6979 51.4062257C44.6986824 51.4888993 44.7354548 51.5671857 44.7987255 51.6208765 44.8619961 51.6745677 44.9455647 51.6984022 45.02786 51.6862277L46.4499 51.6862277C47.2621467 51.6862277 47.4524333 51.8796659 47.5176467 52.2060931L47.5176467 66.3822182C47.4407533 66.8774202 47.0888933 66.9770409 46.5443133 66.9770409L45.17094 66.9770409C45.088691 66.9648534 45.0051644 66.988698 44.9419666 67.0424066 44.8787687 67.0961153 44.8421077 67.1744118 44.8414667 67.2570429L44.8414667 67.9176346C44.8422338 67.9624514 44.8577934 68.0057777 44.8857533 68.0409515 44.9091609 68.0836646 44.9540963 68.1103441 45.00304 68.1105893L52.6437067 68.1105893C52.6936022 68.1096347 52.7391352 68.0821181 52.76294 68.0385336 52.7897986 68.0038225 52.8046498 67.9614155 52.80528 67.9176346L52.80528 67.2584936C52.8046391 67.1758626 52.767978 67.097566 52.7047799 67.0438574 52.6415824 66.9901488 52.5580558 66.9663041 52.4758067 66.9784917L51.1068133 66.9784917C50.5646667 66.9784917 50.2128067 66.878871 50.1373733 66.40398L50.1373733 52.2346252C50.2045333 51.8811167 50.39482 51.6896128 51.20804 51.6896128L52.63008 51.6896128C52.7123753 51.7017873 52.7959438 51.6779529 52.8592143 51.6242616 52.9224849 51.5705709 52.9592574 51.4922845 52.96004 51.4096109L52.96004 50.7490191C52.9591684 50.7066078 52.944292 50.6656574 52.9177 50.6324726L52.9177 50.6324726ZM42.8870133 54.4470757C42.68602 53.7216821 42.1132133 51.6185243 41.8650133 50.6561688 41.849561 50.597378 41.7962217 50.5562859 41.7350733 50.5560644L26.81436 50.5560644C26.7532753 50.5560644 26.7000112 50.5973543 26.6849067 50.6561688 26.43476 51.6185243 25.8614667 53.7241 25.6604733 54.4470757 25.6244375 54.5199158 25.625179 54.6053972 25.662473 54.6776091 25.699767 54.7498211 25.7692226 54.8002616 25.8497867 54.8136412L26.3009267 54.9379253C26.3797089 54.9641967 26.4658133 54.9578857 26.5398636 54.9204119 26.613914 54.8829381 26.6696899 54.81745 26.69464 54.7386839L26.7107 54.701447C27.0513667 53.9199563 27.7657933 52.2941075 28.79412 51.9749343 29.7309533 51.6871948 31.83676 51.6871948 32.6290533 51.6871948L33.0446667 51.6871948 33.0446667 66.3662595C33.0417467 66.4271926 33.03834 66.4784537 33.0349333 66.5113382 32.9635161 66.8160132 32.6710544 67.0170807 32.3589533 66.9760737L30.6916333 66.9760737C30.5966065 66.9752985 30.506455 67.0178081 30.446963 67.0914447 30.387471 67.1650813 30.3651903 67.2617347 30.3864933 67.353762L30.3864933 67.8184975C30.3829987 67.8942286 30.3983784 67.9696453 30.4312667 68.03805 30.454155 68.0819692 30.4997536 68.1096221 30.5495267 68.1096221L37.9984467 68.1096221C38.0482197 68.1096221 38.0938183 68.0819692 38.1167067 68.03805 38.1496915 67.9696773 38.1650762 67.8942363 38.16148 67.8184975L38.16148 67.353762C38.1828037 67.2616515 38.1604638 67.1649106 38.10086 67.0912532 38.0412563 67.0175958 37.9509652 66.9751496 37.8558533 66.9760737L36.1885333 66.9760737C35.8763751 67.0173162 35.5837689 66.8161496 35.5125533 66.5113382 35.50866 66.4765194 35.50574 66.4252582 35.50282 66.3662595L35.50282 51.6876784 35.91892 51.6876784C36.7112133 51.6876784 38.81702 51.6876784 39.7538533 51.9754179 40.78218 52.2945911 41.49466 53.9204399 41.8372733 54.7019306L41.8533333 54.7391675C41.8781685 54.8180124 41.9339276 54.8835875 42.008015 54.9210802 42.0821023 54.9585724 42.1682676 54.964819 42.2470467 54.9384089L42.6981867 54.8141248C42.7786624 54.8006151 42.8479857 54.7501219 42.885174 54.6779293 42.9223622 54.6057362 42.9230441 54.5203293 42.8870133 54.4475593L42.8870133 54.4470757ZM86.0368267 50.7557895C84.9330667 50.7557895 83.6253933 51.3119246 82.1546867 52.4232275 80.68398 53.5345305 78.55822 55.244525 75.6975933 59.4769548L75.62654 59.4024811 79.09696 48.6004033C79.9140733 46.1640481 81.2217467 42.2735204 82.03886 39.8797216L81.8758267 39.6234159C80.2494412 39.768622 78.6451494 40.0984891 77.0943267 40.606566 76.9181524 40.7344644 76.86555 40.9727929 76.9716867 41.1622175L77.8301667 41.7604254C78.48376 42.2304804 78.27936 42.8291719 77.3804867 45.650953L70.3447467 67.6850251C70.2978729 67.8034823 70.2736933 67.9296244 70.2736933 68.0569102L72.3760933 68.0569102C73.4647667 65.8265667 75.4313867 61.8722044 77.2096667 59.391842 79.33494 56.4849481 80.6834933 55.0742993 82.3999667 53.706207 83.1762 53.0654427 84.0341933 52.5523476 84.6065133 52.5523476 85.1788333 52.5523476 85.4645067 53.0224026 85.4645067 53.8343599 85.4645067 56.1856023 83.6253933 62.0849866 82.52212 64.8637276 81.9094067 66.3599728 81.50012 67.0012207 80.8878933 67.0012207 80.4905952 66.912094 80.1239751 66.720433 79.8250133 66.4455692 79.6693082 66.2978859 79.4676199 66.2073152 79.25318 66.1887799 78.72174 66.1887799 78.1499067 66.8305114 78.1499067 67.5568722 78.1499067 67.899258 78.3134267 68.7968117 79.66198 68.7968117 80.1929333 68.7968117 81.2962067 68.5405059 82.64476 67.1293736 83.6871435 66.0868848 84.5808641 64.9073866 85.3009867 63.6237882 86.7313 60.8880871 88.4886533 56.5705445 88.4886533 53.6210942 88.4886533 52.124849 87.8345733 50.7562731 86.0368267 50.7562731L86.0368267 50.7557895ZM69.62886 40.5872221C69.6579082 40.4328295 69.6137714 40.273747 69.5092081 40.1559579 69.4046444 40.0381688 69.2513098 39.9748036 69.0935267 39.9841783 64.3689667 43.2392611 61.1808133 49.8698421 61.1808133 57.3839525 61.1808133 64.8980629 64.3689667 71.5291275 69.0935267 74.7837267 69.2512076 74.7930674 69.404439 74.7297642 69.5089809 74.6120938 69.6135227 74.4944238 69.6577378 74.3354857 69.62886 74.1811665 65.8260467 70.0014486 63.7134267 64.6170938 63.7134267 57.3839525 63.7134267 50.1508112 65.8260467 44.7664564 69.62886 40.5877057L69.62886 40.5872221ZM89.59144 39.9841783C89.4336568 39.9748036 89.2803223 40.0381688 89.1757585 40.1559579 89.0711953 40.273747 89.0270585 40.4328295 89.0561067 40.5872221 92.85892 44.7659728 94.9720267 50.1508112 94.9720267 57.3839525 94.9720267 64.6170938 92.85892 70.0014486 89.0561067 74.1811665 89.0272288 74.3354857 89.071444 74.4944238 89.1759858 74.6120938 89.2805276 74.7297642 89.433759 74.7930674 89.59144 74.7837267 94.316 71.5291275 97.50464 64.8985465 97.50464 57.3839525 97.50464 49.8693585 94.316 43.2397447 89.59144 39.9846619L89.59144 39.9841783ZM108.293067 40.5872221C108.322273 40.4323001 108.277781 40.2726614 108.172531 40.1547422 108.067281 40.036823 107.913091 39.9738638 107.754813 39.9841783 103.030253 43.2392611 99.8421 49.8698421 99.8421 57.3839525 99.8421 64.8980629 103.030253 71.5291275 107.754813 74.7837267 107.912989 74.7940061 108.067075 74.7311091 108.172303 74.6133086 108.277531 74.4955085 108.322102 74.3360148 108.293067 74.1811665 104.489767 70.0014486 102.377147 64.6170938 102.377147 57.3839525 102.377147 50.1508112 104.489767 44.7664564 108.293067 40.5877057L108.293067 40.5872221ZM128.255647 39.9841783C128.097863 39.9748036 127.944529 40.0381688 127.839965 40.1559579 127.735402 40.273747 127.691265 40.4328295 127.720313 40.5872221 131.523127 44.7659728 133.635747 50.1508112 133.635747 57.3839525 133.635747 64.6170938 131.523127 70.0014486 127.720313 74.1811665 127.691235 74.3355181 127.735377 74.4945723 127.839965 74.612294 127.944552 74.7300152 128.097908 74.7932613 128.255647 74.7837267 132.980207 71.5291275 136.168847 64.8985465 136.168847 57.3839525 136.168847 49.8693585 132.980207 43.2397447 128.255647 39.9846619L128.255647 39.9841783ZM120.61498 50.7557895C119.478198 50.8825743 118.415238 51.3784045 117.590833 52.1664382 115.83348 53.7482798 115.139007 54.9882193 115.139007 56.6551737 115.139007 57.3805673 115.506927 58.8357069 116.56932 60.6308142 117.59132 62.3412923 118.081393 63.6663446 118.081393 64.393189 118.081393 65.7607977 117.10076 66.8300278 116.120127 66.8300278 115.057247 66.8300278 113.832793 65.7607977 113.30038 65.1195497 112.994088 64.8207524 112.503399 64.8207524 112.197107 65.1195497 111.822903 65.4975736 111.604223 66.000813 111.583907 66.5306821 111.676823 67.8241662 112.77181 68.8194115 114.076613 68.7963281 117.311307 68.793721 120.016069 66.3524732 120.32882 63.1532495 120.41058 61.2725457 119.79738 60.2033156 118.775867 58.4082083 117.590833 56.3132716 117.386433 55.4157179 117.386433 54.5181642 117.380387 53.5887484 118.12688 52.8269294 119.062027 52.8081697 120.32736 52.8081697 120.859773 53.4494177 121.554733 54.1757785 121.694669 54.4642148 122.024468 54.6092301 122.3334 54.5181642 122.797352 54.2387126 123.076005 53.7345133 123.064373 53.1955299 123.026531 51.8653723 121.951105 50.7954598 120.612547 50.7562731L120.61498 50.7557895ZM135.83402 40.2071159 135.83402 42.2135546 135.557107 42.2135546 135.557107 40.2071159 134.94488 40.2071159 134.94488 39.9382367 136.446733 39.9382367 136.446733 40.2071159 135.83402 40.2071159ZM138.639653 42.2135546 138.639653 40.3318836 137.898947 42.2140382 137.81962 42.2140382 137.07648 40.3318836 137.07648 42.2140382 136.799567 42.2140382 136.799567 39.9387203 137.224913 39.9387203 137.85758 41.5931012 138.490247 39.9387203 138.915107 39.9387203 138.915107 42.2140382 138.638193 42.2140382 138.639653 42.2135546Z" fill-rule="nonzero"/></g></svg>
      </div>
      <h1>Medical Affairs<br>Knowledge Quiz 2026</h1>
      <p>Test your industry knowledge</p>
    </div>
    <div class="welcome-details">
      <div class="detail-row">
        <div class="detail-icon">&#x1F4CB;</div>
        <span>5 multiple-choice questions</span>
      </div>
      <div class="detail-row">
        <div class="detail-icon">&#x2705;</div>
        <span>See the correct answer after each question</span>
      </div>
      <div class="detail-row">
        <div class="detail-icon">&#x23F1;</div>
        <span>Takes about 3 minutes</span>
      </div>
    </div>
    <div class="btn-center">
      <button class="btn btn-primary" onclick="startQuiz()">Start Quiz &#x2192;</button>
    </div>
  </div>

  <!-- ═══════════ QUESTION SCREEN ═══════════ -->
  <div id="question-screen" class="screen">
    <div class="progress-area">
      <div class="progress-label">
        <span id="progress-text">Question 1 of 5</span>
        <span id="score-text">Score: 0</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
      </div>
    </div>

    <div style="padding: 20px 0; flex: 1;">
      <div class="question-topic" id="q-topic"></div>
      <div class="question-text" id="q-text"></div>
      <div class="options-list" id="options-list"></div>
      <div class="feedback" id="feedback">
        <div class="feedback-title" id="feedback-title"></div>
        <div class="feedback-text" id="feedback-text"></div>
      </div>
    </div>

    <div class="next-btn-area" id="next-btn-area">
      <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()">Next Question &#x2192;</button>
    </div>
  </div>

  <!-- ═══════════ RESULTS SCREEN ═══════════ -->
  <div id="results-screen" class="screen">
    <div class="results-card">
      <div class="score-circle"><span id="final-score">0/5</span></div>
      <div class="score-label" id="final-label">Nice work!</div>
      <div class="score-message" id="final-message"></div>

      <div class="review-list" id="review-list"></div>
    </div>

    <div class="submit-form" id="submit-form">
      <h3>Test your colleagues! Add your email address to receive a copy of the quiz</h3>
      <div class="form-group">
        <label for="user-name">Name</label>
        <input type="text" id="user-name" placeholder="Your name" autocomplete="name">
      </div>
      <div class="form-group">
        <label for="user-email">Email</label>
        <input type="email" id="user-email" placeholder="your@email.com" autocomplete="email">
      </div>
      <div style="text-align: center; padding-top: 8px;">
        <button class="btn btn-secondary" onclick="submitResult()">Submit</button>
      </div>
      <div class="submit-status" id="submit-status"></div>
    </div>

    <div class="restart-area">
      <button class="restart-link" onclick="restartQuiz()">&#x21BB; Take the quiz again</button>
    </div>
  </div>

</div>

<script>
// ── Quiz Data ────────────────────────────────────────────────────────
const quizData = [
  {
    topic: "FDA Novel Drug Approvals",
    question: "How many novel drugs did the FDA\u2019s Center for Drug Evaluation and Research (CDER) approve in 2025?",
    options: ["16", "46", "76", "96"],
    correctIndex: 1,
    explanation: "CDER approved 46 novel drugs in 2025, a slight dip from the 50 approved in 2024 but still above the long-term average. Of these, 20 (43%) were first-in-class therapies, 70% were approved first globally by the FDA, and 96% met their PDUFA goal dates."
  },
  {
    topic: "Landmark Drug Approval",
    question: "In January 2025, the FDA approved Journavx (suzetrigine) \u2014 the first new drug class for acute pain in over 20 years. What is its mechanism of action?",
    options: ["COX-2 inhibitor", "Selective NaV1.8 pain signal inhibitor", "NMDA receptor antagonist", "Cannabinoid receptor agonist"],
    correctIndex: 1,
    explanation: "Journavx is the first selective NaV1.8 pain signal inhibitor \u2014 a completely new, non-opioid mechanism for treating moderate to severe acute pain. Developed by Vertex Pharmaceuticals after nearly two decades of research, it represents a major step forward in addressing the opioid crisis by offering an effective alternative to opioid-based pain relief."
  },
  {
    topic: "AI in Drug Development",
    question: "In January 2025, the FDA issued its first-ever draft guidance on AI in drug development. What key framework did it introduce?",
    options: [
      "A mandatory AI pre-approval inspection process",
      "A 7-step credibility assessment for AI models used in regulatory submissions",
      "A requirement that all clinical trials use AI-powered endpoints",
      "A ban on AI-generated data in new drug applications"
    ],
    correctIndex: 1,
    explanation: "The FDA\u2019s January 2025 draft guidance established a seven-step credibility assessment framework based on \u2018context of use.\u2019 It requires lifecycle maintenance plans and mandates transparency about model architectures and training data."
  },
  {
    topic: "Real-World Evidence (RWE)",
    question: "In December 2025, the FDA announced a major policy change regarding real-world evidence (RWE). What was it?",
    options: [
      "The FDA will no longer accept any RWE in drug applications",
      "The FDA now requires RWE for all new drug applications",
      "The FDA will accept de-identified RWE data, removing the requirement for individual patient-level data",
      "The FDA mandated that all post-market studies use only RWE"
    ],
    correctIndex: 2,
    explanation: "The December 2025 policy change allows sponsors to use de-identified datasets \u2014 including national cancer registries, hospital databases, and insurance claims data \u2014 to support regulatory submissions. Since 2016, only 35 drugs, biologics, or vaccines had incorporated RWE into their applications."
  },
  {
    topic: "Global Regulatory Change",
    question: "The ICH M14 guideline, adopted in September 2025, set a global standard for which area of regulatory science?",
    options: [
      "Bioequivalence testing for generic drugs",
      "Pharmacoepidemiological safety studies using real-world data",
      "Pediatric clinical trial design requirements",
      "Post-marketing surveillance of biosimilars"
    ],
    correctIndex: 1,
    explanation: "ICH M14 represents a pivotal shift toward harmonised global expectations for pharmacoepidemiological safety studies using real-world data. It establishes standards for evidence quality, protocol pre-specification, and statistical rigour."
  }
];

const scoreMessages = [
  { min: 0, max: 1, label: "Keep learning!", message: "Time to renew those journal subscriptions!" },
  { min: 2, max: 3, label: "Solid awareness!", message: "You\u2019re keeping pace with the industry." },
  { min: 4, max: 4, label: "Impressive!", message: "Your Medical Affairs instincts are sharp." },
  { min: 5, max: 5, label: "Perfect score!", message: "Chief Medical Officer material!" }
];

// ── State ────────────────────────────────────────────────────────────
let currentQuestion = 0;
let score = 0;
let answers = []; // stores { questionIndex, selectedIndex, correct }

// ══════════════════════════════════════════════════════════════════════
// GOOGLE SHEETS INTEGRATION
// ──────────────────────────────────────────────────────────────────────
// To connect this quiz to a Google Sheet:
//
// 1. Create a new Google Sheet with columns:
//    Timestamp | Name | Email | Score | Total | Answers
//
// 2. Go to Extensions > Apps Script and paste this code:
//
//    function doPost(e) {
//      var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
//      var data = JSON.parse(e.postData.contents);
//      sheet.appendRow([
//        new Date(),
//        data.name,
//        data.email,
//        data.score,
//        data.total,
//        data.answers
//      ]);
//      return ContentService
//        .createTextOutput(JSON.stringify({result: "success"}))
//        .setMimeType(ContentService.MimeType.JSON);
//    }
//
// 3. Deploy > New deployment > Web app
//    - Execute as: Me
//    - Who has access: Anyone
//    - Copy the deployment URL
//
// 4. Paste the URL below:
// ──────────────────────────────────────────────────────────────────────
const GOOGLE_SHEET_URL = ""; // ← Paste your Apps Script URL here
// ══════════════════════════════════════════════════════════════════════

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0, 0);
}

function startQuiz() {
  currentQuestion = 0;
  score = 0;
  answers = [];
  showScreen('question-screen');
  renderQuestion();
}

function renderQuestion() {
  const q = quizData[currentQuestion];
  document.getElementById('progress-text').textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
  document.getElementById('score-text').textContent = `Score: ${score}`;
  document.getElementById('progress-fill').style.width = `${(currentQuestion / quizData.length) * 100}%`;

  document.getElementById('q-topic').textContent = q.topic;
  document.getElementById('q-text').textContent = q.question;

  const optionsList = document.getElementById('options-list');
  optionsList.innerHTML = '';
  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'option-btn';
    btn.textContent = String.fromCharCode(65 + i) + ') ' + opt;
    btn.onclick = () => selectAnswer(i);
    optionsList.appendChild(btn);
  });

  // Hide feedback and next button
  const fb = document.getElementById('feedback');
  fb.classList.remove('show', 'correct-feedback', 'incorrect-feedback');
  document.getElementById('next-btn-area').classList.remove('show');
}

function selectAnswer(selectedIndex) {
  const q = quizData[currentQuestion];
  const buttons = document.querySelectorAll('.option-btn');
  const isCorrect = selectedIndex === q.correctIndex;

  // Disable all buttons
  buttons.forEach(btn => btn.classList.add('disabled'));

  // Highlight correct answer
  buttons[q.correctIndex].classList.add('correct');

  // Highlight wrong answer if applicable
  if (!isCorrect) {
    buttons[selectedIndex].classList.add('incorrect');
  } else {
    score++;
    document.getElementById('score-text').textContent = `Score: ${score}`;
  }

  // Store answer
  answers.push({ questionIndex: currentQuestion, selectedIndex, correct: isCorrect });

  // Show feedback
  const fb = document.getElementById('feedback');
  fb.className = 'feedback show ' + (isCorrect ? 'correct-feedback' : 'incorrect-feedback');
  document.getElementById('feedback-title').textContent = isCorrect ? 'Correct!' : 'Not quite \u2014 the answer is ' + String.fromCharCode(65 + q.correctIndex) + ')';
  document.getElementById('feedback-text').textContent = q.explanation;

  // Show next button
  const nextArea = document.getElementById('next-btn-area');
  nextArea.classList.add('show');
  document.getElementById('next-btn').textContent =
    currentQuestion < quizData.length - 1 ? 'Next Question \u2192' : 'See Results \u2192';
}

function nextQuestion() {
  currentQuestion++;
  if (currentQuestion < quizData.length) {
    renderQuestion();
  } else {
    showResults();
  }
}

function showResults() {
  showScreen('results-screen');

  document.getElementById('final-score').textContent = `${score}/${quizData.length}`;

  const msg = scoreMessages.find(m => score >= m.min && score <= m.max);
  document.getElementById('final-label').textContent = msg ? msg.label : 'Well done!';
  document.getElementById('final-message').textContent = msg ? msg.message : '';

  // Fill progress to 100%
  document.getElementById('progress-fill').style.width = '100%';

  // Build review list
  const reviewEl = document.getElementById('review-list');
  reviewEl.innerHTML = '';
  answers.forEach((a, i) => {
    const q = quizData[a.questionIndex];
    const item = document.createElement('div');
    item.className = 'review-item';
    item.innerHTML = `
      <div class="review-icon ${a.correct ? 'correct' : 'wrong'}">${a.correct ? '\u2713' : '\u2717'}</div>
      <div>
        <div class="review-q">Q${i + 1}: ${q.topic}</div>
        <div class="review-answer">${a.correct ? 'Correct' : 'Your answer: ' + String.fromCharCode(65 + a.selectedIndex) + ' \u2014 Correct: ' + String.fromCharCode(65 + q.correctIndex)}</div>
      </div>
    `;
    reviewEl.appendChild(item);
  });

  // Reset form
  document.getElementById('user-name').value = '';
  document.getElementById('user-email').value = '';
  document.getElementById('submit-status').className = 'submit-status';
  document.getElementById('submit-status').textContent = '';
  document.getElementById('submit-form').style.display = '';
}

async function submitResult() {
  const name = document.getElementById('user-name').value.trim();
  const email = document.getElementById('user-email').value.trim();
  const statusEl = document.getElementById('submit-status');

  if (!name || !email) {
    statusEl.className = 'submit-status error';
    statusEl.textContent = 'Please enter both your name and email.';
    return;
  }

  // Build answers summary
  const answerSummary = answers.map((a, i) => {
    const q = quizData[a.questionIndex];
    return `Q${i+1}: ${a.correct ? 'Correct' : 'Wrong (' + String.fromCharCode(65 + a.selectedIndex) + ')'}`;
  }).join(', ');

  if (!GOOGLE_SHEET_URL) {
    // No endpoint configured — store locally and show success
    statusEl.className = 'submit-status success';
    statusEl.textContent = 'Thank you, ' + name + '! Your score of ' + score + '/' + quizData.length + ' has been recorded.';
    console.log('Quiz result:', { name, email, score, total: quizData.length, answers: answerSummary });
    document.getElementById('submit-form').querySelector('button').style.display = 'none';
    return;
  }

  // Submit to Google Sheets
  const btn = document.getElementById('submit-form').querySelector('button');
  btn.textContent = 'Submitting...';
  btn.disabled = true;

  try {
    await fetch(GOOGLE_SHEET_URL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        name,
        email,
        score,
        total: quizData.length,
        answers: answerSummary
      })
    });

    statusEl.className = 'submit-status success';
    statusEl.textContent = 'Thank you, ' + name + '! Your score has been recorded.';
    btn.style.display = 'none';
  } catch (err) {
    statusEl.className = 'submit-status error';
    statusEl.textContent = 'Something went wrong. Please try again.';
    btn.textContent = 'Submit';
    btn.disabled = false;
  }
}

function restartQuiz() {
  showScreen('welcome-screen');
}
</script>

</body>
</html>
